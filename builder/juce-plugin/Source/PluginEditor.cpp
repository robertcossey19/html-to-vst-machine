#include "PluginProcessor.h"
#include "PluginEditor.h"
#include "BinaryData.h"  // generated by juce_add_binary_data(HtmlToVst_UI ...)

//==============================================================================

HtmlToVstAudioProcessorEditor::HtmlToVstAudioProcessorEditor (HtmlToVstAudioProcessor& p)
    : juce::AudioProcessorEditor (&p),
      processor (p),
      webView (juce::WebBrowserComponent::Options {})
{
    // Set plugin window size (tweak if needed)
    setSize (1100, 650);

    // Get the embedded HTML (Assets/UI/ampex_ui.html) from BinaryData
    juce::String html = juce::String::fromUTF8 (BinaryData::ampex_ui_html,
                                                BinaryData::ampex_ui_htmlSize);

    // Load the HTML directly into the WebView (no file:// URL, no external browser)
    webView.loadHTML (html, juce::URL()); // base URL empty; all resources must be self-contained or use https://

    addAndMakeVisible (webView);
}

HtmlToVstAudioProcessorEditor::~HtmlToVstAudioProcessorEditor() = default;

void HtmlToVstAudioProcessorEditor::paint (juce::Graphics& g)
{
    g.fillAll (juce::Colours::black);
}

void HtmlToVstAudioProcessorEditor::resized()
{
    webView.setBounds (getLocalBounds());
}
